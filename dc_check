// Discord Notifier Script - GitHub verzi√≥
// Ez a f√°jl ker√ºl Base64-ben k√≥dolva a loader scriptbe
// Verzi√≥: 1.0

(function() {
    'use strict';

    // Discord Webhook URL - FONTOS: Itt add meg a webhook URL-t!
    const DISCORD_WEBHOOK_URL = 'https://discord.com/api/webhooks/1422656911454634195/v20L-RLMi5RBfjoTUtkd3csjVQeL4JLMOvXOorCoZMKgga1UFvHGAM_kNKp56Iy4I2qc';

    // J√°t√©kos n√©v lek√©r√©se
    const playerName = Game.player_name || 'Ismeretlen';

    // Discord √©rtes√≠t√©s k√ºld√©se
    function sendDiscordNotification() {
        if (!DISCORD_WEBHOOK_URL || DISCORD_WEBHOOK_URL === 'YOUR_DISCORD_WEBHOOK_URL_HERE') {
            console.warn('‚ö†Ô∏è Discord Webhook URL nincs be√°ll√≠tva');
            return;
        }

        const now = new Date();
        const timestamp = now.toLocaleString('hu-HU', {
            year: 'numeric',
            month: '2-digit',
            day: '2-digit',
            hour: '2-digit',
            minute: '2-digit',
            second: '2-digit'
        });

        const embed = {
            embeds: [{
                title: 'üåæ Auto Farm Collector Bet√∂ltve',
                description: 'A script sikeresen elindult!',
                color: 15844367, // Narancss√°rga sz√≠n (#f39c12)
                fields: [
                    {
                        name: 'üë§ J√°t√©kos',
                        value: playerName,
                        inline: true
                    },
                    {
                        name: 'üïê Id≈ëpont',
                        value: timestamp,
                        inline: true
                    },
                    {
                        name: 'üåç Szerver',
                        value: window.location.hostname,
                        inline: false
                    }
                ],
                footer: {
                    text: 'Grepolis Auto Farm Collector v2.1'
                },
                timestamp: now.toISOString()
            }]
        };

        // XMLHttpRequest haszn√°lata Discord webhook-hoz
        const xhr = new XMLHttpRequest();
        xhr.open('POST', DISCORD_WEBHOOK_URL, true);
        xhr.setRequestHeader('Content-Type', 'application/json');
        
        xhr.onload = function() {
            if (xhr.status === 204 || xhr.status === 200) {
                console.log('‚úÖ Discord √©rtes√≠t√©s sikeresen elk√ºldve');
                console.log(`üì§ J√°t√©kos: ${playerName}`);
                console.log(`üìÖ Id≈ëpont: ${timestamp}`);
            } else {
                console.error('‚ùå Discord √©rtes√≠t√©s k√ºld√©se sikertelen:', xhr.status, xhr.statusText);
            }
        };
        
        xhr.onerror = function() {
            console.error('‚ùå Hiba a Discord √©rtes√≠t√©s k√ºld√©se sor√°n');
        };
        
        xhr.send(JSON.stringify(embed));
    }

    // √ârtes√≠t√©s k√ºld√©se
    console.log('üì¨ Discord Notifier bet√∂ltve');
    console.log('üë§ J√°t√©kos:', playerName);
    sendDiscordNotification();

})();
